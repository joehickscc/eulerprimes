var chai = require('chai');
var expect = chai.expect;
var Eulers = require('../src/eulers');

describe('E', function() {
  it('should return 2 when a precision of 1 is passed in', function() {
    var euler = new Eulers();
    var result = euler.E(1);
    expect(result.c[0]).to.equal(2);
  });
  it('should return many digits of e for larger precisions', function() {
    var euler = new Eulers();
    var result = euler.E(200);
    var resultString = "";
    var expected = "27182818284590452353602874713526624977572470936999595749669676277240766303535475945713821785251664274274663919320030599218174135966290435729003342952605956307381323286279434907632338298807531952510190";
    for (var i=0; i<200; i++) {
      resultString += result.c[i].toString();
    }
    expect(resultString).to.equal(expected);
  });
  it('should return many digits of e for much larger precisions', function() {
    var euler = new Eulers();
    var result = euler.E(1000);
    var resultString = "";
    var expected = "2718281828459045235360287471352662497757247093699959574966967627724076630353547594571382178525166427427466391932003059921817413596629043572900334295260595630738132328627943490763233829880753195251019011573834187930702154089149934884167509244761460668082264800168477411853742345442437107539077744992069551702761838606261331384583000752044933826560297606737113200709328709127443747047230696977209310141692836819025515108657463772111252389784425056953696770785449969967946864454905987931636889230098793127736178215424999229576351482208269895193668033182528869398496465105820939239829488793320362509443117301238197068416140397019837679320683282376464804295311802328782509819455815301756717361332069811250996181881593041690351598888519345807273866738589422879228499892086805825749279610484198444363463244968487560233624827041978623209002160990235304369941849146314093431738143640546253152096183690888707016768396424378140592714563549061303107208510383750510115747704171898610687396965521267154688957035035";
    for (var i=0; i<1000; i++) {
      resultString += result.c[i].toString();
    }
    expect(resultString).to.equal(expected);
  });
  it('should throw a RangeError if a precision 0 is passed in', function() {
    var euler = new Eulers();
    expect(function() {euler.E(0);}).to.throw(RangeError, 'Precision is zero or less');
  });
});
